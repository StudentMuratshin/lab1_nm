#pragma once

double Taylor(double x)
{
	return (-0.00292190059473250 - 5.611116979 * 1e-18 * pow(x, 21) + 5.87505690101522 * 1e-16 * pow(x, 20) - 2.93948013402741 * 1e-14 * pow(x, 19) + 9.35663037117435 * 1e-13 * pow(x, 18) - 2.12816150106302 * 1e-11 * pow(x, 17) + 3.68117516015322 * 1e-10 * pow(x, 16) - 5.02760730127302 * 1e-9 * pow(x, 15) + 5.55335389737451 * 1e-8 * pow(x, 14) - 5.04646807740746 * 1e-7 * pow(x, 13) + 3.82762655235867 * 1e-6 * pow(x, 12) - 0.0000244941688126025 * pow(x, 11) + 0.000132235603315818 * pow(x, 10) - 0.000597852814280031 * pow(x, 9) + 0.00232039090732818 * pow(x, 8) - 0.00824065231618654 * pow(x, 7) + 0.0242530067343444 * pow(x, 6) - 0.0398416622393580 * pow(x, 5) + 0.0562300157809080 * pow(x, 4) - 0.420339628860859 * pow(x, 3) + 0.956214560940444 * pow(x, 2) + 0.0160674622238923 * x);
	//return (-0.00292190059473250 - 5.611116979 * pow(10, (-18)) * pow(x, 21) + 5.87505690101522 * pow(10, -16) * pow(x, 20) - 2.93948013402741 * pow(10, -14) * pow(x, 19) + 9.35663037117435 * pow(10, -13) * pow(x, 18) - 2.12816150106302 * pow(10, -11) * pow(x, 17) + 3.68117516015322 * pow(10, -10) * pow(x, 16) - 5.02760730127302 * pow(10, -9) * pow(x, 15) + 5.55335389737451 * pow(10, -8) * pow(x, 14) - 5.04646807740746 * pow(10, -7) * pow(x, 13) + 3.82762655235867 * pow(10, -6) * pow(x, 12) - 0.0000244941688126025 * pow(x, 11) + 0.000132235603315818 * pow(x, 10) - 0.000597852814280031 * pow(x, 9) + 0.00232039090732818 * pow(x, 8) - 0.00824065231618654 * pow(x, 7) + 0.0242530067343444 * pow(x, 6) - 0.0398416622393580 * pow(x, 5) + 0.0562300157809080 * pow(x, 4) - 0.420339628860859 * pow(x, 3) + 0.956214560940444 * pow(x, 2) + 0.0160674622238923 * x);

}

double ERROR_Taylor(double a, double b, const vector<pair<double, double>>& T, string s)
{
	double H, e = 0;
	int n = T.size();
	if (s == "fx")
	{
		for (int i = 1; i <= 100; i++)
		{
			H = a + (i * (b - a)) / 100;
			if (abs(Taylor(H) - f(H)) > e)
			{
				e = abs(Taylor(H) - f(H));
			}
		}
		return e;
	}
	else
	{
		for (int i = 1; i <= 100; i++)
		{
			H = a + (i * (b - a)) / 100;
			if (abs(Taylor(H) - Lagrange(H,n,T)) > e)
			{
				e = abs(Taylor(H) - Lagrange(H, n, T));
			}
		}
		return e;
	}
}